{"version":3,"file":"static/js/553.e19978d8.chunk.js","mappings":"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","sources":["components/PageFooter.js","layouts/PageLayoutFullHeight.js","components/StyledSplitPane.js","pages/PagePrompt.js"],"sourcesContent":["import * as React from 'react';\nimport Typography from '@mui/material/Typography';\nimport Link from '@mui/material/Link';\n\nexport default function PageFooter() {\n  return (\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" sx={{ mt:5 }}>\n      {'Copyright Â© '}\n      <Link color=\"inherit\" href=\"https://voxlanalytics.com/\">\n        Voxl Analytics\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}","export default function PageLayoutFullHeight({ children }) {\n    return (\n        <div style={{ display: 'flex', flexDirection:'column', height: `calc(100vh - 65px)`, width: '100%' }}>\n            { children }\n        </div>\n    );\n}","import SplitPane from \"react-split-pane\";\nimport { styled, alpha } from \"@mui/material/styles\";\n\nconst StyledSplitPaneC = styled(SplitPane)(({ theme })  => ({\n    \"& .Resizer\": {\n        background: theme.palette.text.secondary,\n        opacity: 0.2,\n        zIndex: 1,\n        MozBoxSizing: \"border-box\",\n        WebkitBoxSizing: \"border-box\",\n        boxSizing: \"border-box\",\n        MozBackgroundClip: \"padding\",\n        WebkitBackgroundClip: \"padding\",\n        backgroundClip: \"padding-box\"\n      },\n      \"& .Resizer:hover\": {\n        WebkitTransition: \"all 1s ease\",\n        transition: \"all 1s ease\"\n      },\n      \"& .Resizer.horizontal\": {\n        height: \"11px\",\n        margin: \"-5px 0\",\n        borderTop: \"5px solid\",\n        borderTopColor: alpha(theme.palette.text.secondary, 0.1),\n        borderBottom: \"5px solid\",\n        borderBottomColor: alpha(theme.palette.text.secondary, 0.1),\n        cursor: \"row-resize\",\n        width: \"100%\"\n      },\n      \"& .Resizer.horizontal:hover\": {\n        borderTop: \"5px solid\",\n        borderTopColor: alpha(theme.palette.text.secondary, 0.3),\n        borderBottom: \"5px solid\",\n        borderBottomColor: alpha(theme.palette.text.secondary, 0.3),\n      },\n      \"& .Resizer.vertical\": {\n        width: \"11px\",\n        margin: \"0 -5px\",\n        borderLeft: \"5px solid rgba(255, 255, 255, 0)\",\n        borderRight: \"5px solid rgba(255, 255, 255, 0)\",\n        cursor: \"col-resize\"\n      },\n      \"& .Resizer.vertical:hover\": {\n        borderLeft: \"5px solid rgba(0, 0, 0, 0.5)\",\n        borderRight: \"5px solid rgba(0, 0, 0, 0.5)\"\n      },\n      \"& .Resizer.disabled\": { cursor: \"not-allowed\" },\n      \"& .Resizer.disabled:hover\": { borderColor: \"transparent\" }\n  }));\n\n  export default function StyledSplitPane(props) {\n    return (<StyledSplitPaneC {...props}/>);\n  }","import * as React from 'react';\nimport Footer from '../components/PageFooter';\nimport { Container, Grid, Typography, Stack, Button, FormControl, Select, InputLabel, MenuItem, TextField, Toolbar, Divider, Slider, darken, lighten, Skeleton } from '@mui/material';\nimport {useAuth}  from '../contexts/AuthContext';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport eventBus from '../hooks/eventBus';\nimport { useState, useEffect, useCallback } from 'react';\nimport { GET, PUT } from '../contexts/AuthContext';\nimport PageLayoutFullHeight from '../layouts/PageLayoutFullHeight';\nimport SplitPane, { Pane } from 'react-split-pane';\nimport { styled } from '@mui/styles';\nimport StyledSplitPane from '../components/StyledSplitPane';\nimport theme from '../theme';\nimport {useTheme} from '@mui/material';\nimport Iconify from '../components/Iconify';\nimport { LoadingButton } from '@mui/lab';\nimport { IntegrationInstructionsRounded } from '@mui/icons-material';\n\n\n// const PromptField = styled(TextField)(({ theme })  => ({\n//     width: \"100%\",\n//     height: \"100%\",\n\n//     \"& .MuiInputBase-root.MuiOutlinedInput-root\": {\n//         width: \"100%\",\n//         height: \"100%\",\n//       },\n//       \"& .MuiInputBase-root.MuiOutlinedInput-root textarea\": {\n//         width: \"100%\",\n//         height: \"100%!important\",\n//         overflow:\"scroll!important\"\n//       },\n//   }));\n\n\nexport default function PagePrompt() {\n    const { logout, user } = useAuth();\n    let { id } = useParams();\n    const [name, setName] = useState(null);\n    const [payload, setPayload] = useState(\"\");\n    const [settings, setSettings] = useState(null);\n    const [running, setRunning] = useState(false);\n    const [runResp, setRunResp] = useState(null);\n    const [completion, setCompletion] = useState(null);\n    const [promptUsage, setPromptUsage] = useState(0);\n    const [completionUsage, setCompletionUsage] = useState(0);\n    const theme = useTheme();\n    const navigate = useNavigate();\n\n    async function loadPrompt() {\n        let cache = loadCache();\n        if (cache != null && cache.name != null && cache.name != \"\") {\n            setCompletion(cache.completion);\n            setPayload(cache.payload);\n            setSettings(cache.settings);\n            setPromptUsage(cache.promptUsage);\n            setCompletionUsage(cache.completionUsage);\n            setName(cache.name);\n            cache.id = id;\n            eventBus.dispatch(\"promptOpened\", cache);\n            // load it to make sure it exists\n            let resp = await GET(\"/api/prompt/\"+id);\n            if (resp.success == false)\n                navigate('/');\n        } else {\n            setCompletion(null);\n            setPayload(\"\");\n            setSettings(null);\n            setName(null);\n            setPromptUsage(0);\n            setCompletionUsage(0);\n            let resp = await GET(\"/api/prompt/\"+id);\n            if (resp.success == false)\n                navigate('/');\n            setPayload(resp.response.prompt.payload);\n            setSettings(resp.response.prompt.settings);\n            setName(resp.response.prompt.name);\n            eventBus.dispatch(\"promptOpened\", resp.response.prompt);\n        }\n    }\n\n    async function runPrompt() {\n        if (running)\n            return;\n        setRunning(true);\n        let resp = await PUT(\"/api/prompt/\"+id+\"/run\", {\n            \"payload\":payload,\n            \"settings\":settings\n        });\n        setRunResp(resp);\n        setRunning(false);\n        \n    }\n\n    useEffect(() => {\n        if (runResp != null) {\n            let resp = runResp;\n            if (resp.response.prompt.id != id)\n                return;\n            if (resp.success) {\n                setCompletion(resp.response.completion.choices[0].text);\n                setPromptUsage(resp.response.completion.usage.prompt_tokens);\n                setCompletionUsage(resp.response.completion.usage.completion_tokens);\n            } else {\n                setCompletion(resp.response.message);\n                setPromptUsage(0);\n                setCompletionUsage(0);\n            }\n            setRunResp(null);\n        }\n      }, [runResp]);\n\n    function setModel(value) {\n        setSettings({\n            ...settings,\n            model:value\n        });\n    }\n\n    function setTemp(value) {\n        setSettings({\n            ...settings,\n            tempurature:value\n        });\n    }\n\n    function setMaxTokens(value) {\n        setSettings({\n            ...settings,\n            max_tokens:Math.round(value)\n        });\n        \n    }\n\n    function saveCache() {\n        localStorage.setItem('prompt-cache-'+id, JSON.stringify({\n            payload: payload,\n            settings: settings,\n            completion: completion,\n            name: name,\n            promptUsage: promptUsage,\n            completionUsage: completionUsage\n        }));\n    }\n\n    function loadCache() {\n        let raw = localStorage.getItem('prompt-cache-'+id);\n        if (raw === null)\n            return null;\n        return JSON.parse(raw);\n    }\n\n    useEffect(() => {\n        setRunning(false);\n        loadPrompt();\n      }, [id]);\n\n    // when stuff updates, cache it\n    useEffect(() => {\n        saveCache();\n    }, [payload, settings, completion, name, promptUsage, completionUsage]);\n\n\n    const handleKeyPress = useCallback((e) => {\n        if (e.keyCode===13 && e.metaKey) {\n            runPrompt();\n        }\n        \n    }, [payload, settings]);\n\n\n\n    useEffect(() => {\n    // attach the event listener\n    document.addEventListener('keydown', handleKeyPress);\n\n    // remove the event listener\n    return () => {\n        document.removeEventListener('keydown', handleKeyPress);\n    };\n    }, [handleKeyPress]);\n\n    const tokenEst = payload != null ? (\n        payload.length > 0 ?\n        Math.round(payload.split(\" \").length * 1.36) :\n        0\n    ): 0;\n\n  return (\n    <PageLayoutFullHeight>\n<div style={{height: '100%', width: '100%', position:'relative', backgroundColor: theme.palette.background.default}}>\n        <StyledSplitPane split=\"horizontal\" minSize={200} defaultSize={300} style={{height:\"100%\"}} primary=\"second\">\n            <Pane style={{height: '100%', width: '100%'}} className=\"\">\n                <div style={{height: '100%', width: '100%', position:'relative', padding:25}} >\n                    <textarea value={payload}  onChange={(e) => setPayload(e.target.value)}\n                    placeholder=\"Prompt away...\"\n                    style={{\n                        height: '100%', width: '100%',\n                        border:\"none\", outline: \"none\",\n                        backgroundColor: theme.palette.background.default,\n                        color:theme.palette.text.primary,\n                        fontSize:'0.9rem',\n                        fontFamily:'Fira Code',\n                        lineHeight:'1.5rem'\n                }}/>\n                <Typography variant=\"caption\" color=\"text.secondary\" sx={{fontFamily:'Fira Code', position:\"absolute\", bottom:25, left:25}}>Est Tokens: <span style={{color:theme.palette.primary.main}}>{tokenEst}</span></Typography>\n               {/* <PromptField multiline /> */}\n               </div>\n            </Pane>\n            <Pane className=\"\" style={{\n                height: '100%', width: '100%'\n            }}>\n            <div style={{height: '100%', width: '100%', position:'relative'\n        }} >\n            {settings &&\n                <Toolbar sx={{pt:2,pb:2}} style={{backgroundColor: darken(theme.palette.background.default, 0.1)}}>\n                    <Stack sx={{width:\"100%\"}} direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\n                        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"flex-start\" spacing={2}>\n                        <Typography variant=\"caption\">Model</Typography>\n                        <Select\n                                value={settings?.model}\n                                onChange={(e) => setModel(e.target.value)}\n                                size=\"small\"\n                        >\n                            <MenuItem value='text-davinci-003'>text-davinci-003</MenuItem>\n                            <MenuItem value='text-curie-001'>text-curie-001</MenuItem>\n                            <MenuItem value='text-babbage-001'>text-babbage-001</MenuItem>\n                            <MenuItem value='text-ada-001'>text-ada-001</MenuItem>\n                        </Select>\n                        <Typography variant=\"caption\">Tempurature</Typography>\n                        <Slider aria-label=\"Temp\" value={settings?.tempurature * 100} sx={{width:100}} size=\"small\" onChange={(e, v) => setTemp(v/100)} />\n                        <Typography variant=\"caption\">Max Tokens</Typography>\n                        <Slider aria-label=\"Token\" vvalue={settings?.max_tokens / 2048 * 100} sx={{width:100}} size=\"small\" onChange={(e, v) => setMaxTokens(Math.max(150,(v / 100 * 2048)))}/>\n                        </Stack>\n                        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"flex-end\">\n                        <LoadingButton variant=\"contained\" color='success' onClick={runPrompt} loading={running}\n                        endIcon={<Stack direction=\"row\"><Iconify sx={{width:15}} icon=\"material-symbols:keyboard-command-key\"/><Iconify sx={{width:15}} icon=\"material-symbols:keyboard-return\"/></Stack>}\n                        >\n                            Run\n                        </LoadingButton>\n                        </Stack>\n                    </Stack>\n                </Toolbar>\n}\n                <Divider />\n                \n                <div style={{height: 'calc(100% - 80px)', minHeight: 'calc(100% - 80px)', overflowY:'scroll', width: '100%', position:'relative', padding:'25px', backgroundColor: darken(theme.palette.background.default, 0.1)}}>\n                {!running && <Typography variant=\"code\" style={{whiteSpace:\"pre-line\"}}>{completion}</Typography>}\n                {running && <Typography variant=\"code\" ><Skeleton style={{width:\"60%\"}}/></Typography>}\n                {running && <Typography variant=\"code\" ><Skeleton style={{width:\"50%\"}}/></Typography>}\n                {running && <Typography variant=\"code\" ><Skeleton style={{width:\"20%\"}}/></Typography>}\n                \n\n                </div>\n                <Typography variant=\"caption\" color=\"text.secondary\" sx={{fontFamily:'Fira Code', position:\"absolute\", bottom:25, left:25}}>\n                    Prompt Tokens: <span style={{color:theme.palette.primary.main}}>{promptUsage}</span> &nbsp; &nbsp; \n                    Completion Tokens: <span style={{color:theme.palette.primary.main}}>{completionUsage}</span>\n\n                    </Typography>\n                </div>\n            </Pane>\n        </StyledSplitPane>\n        \n        </div>\n        \n    </PageLayoutFullHeight>\n  );\n}\n"],"names":["PageFooter","variant","color","align","sx","mt","href","Date","getFullYear","PageLayoutFullHeight","children","style","display","flexDirection","height","width","StyledSplitPaneC","styled","SplitPane","theme","background","palette","text","secondary","opacity","zIndex","MozBoxSizing","WebkitBoxSizing","boxSizing","MozBackgroundClip","WebkitBackgroundClip","backgroundClip","WebkitTransition","transition","margin","borderTop","borderTopColor","alpha","borderBottom","borderBottomColor","cursor","borderLeft","borderRight","borderColor","StyledSplitPane","props","PagePrompt","useAuth","id","logout","user","useParams","useState","name","setName","payload","setPayload","settings","setSettings","running","setRunning","runResp","setRunResp","completion","setCompletion","promptUsage","setPromptUsage","completionUsage","setCompletionUsage","useTheme","navigate","useNavigate","cache","loadCache","eventBus","GET","success","resp","response","prompt","runPrompt","PUT","raw","localStorage","getItem","JSON","parse","useEffect","choices","usage","prompt_tokens","completion_tokens","message","loadPrompt","setItem","stringify","handleKeyPress","useCallback","e","keyCode","metaKey","document","addEventListener","removeEventListener","tokenEst","length","Math","round","split","position","backgroundColor","default","minSize","defaultSize","primary","className","padding","value","onChange","target","placeholder","border","outline","fontSize","fontFamily","lineHeight","Typography","bottom","left","main","Toolbar","pt","pb","darken","Stack","direction","alignItems","justifyContent","spacing","Select","model","size","MenuItem","Slider","tempurature","v","vvalue","max_tokens","max","LoadingButton","onClick","loading","endIcon","Iconify","icon","Divider","minHeight","overflowY","whiteSpace","Skeleton"],"sourceRoot":""}