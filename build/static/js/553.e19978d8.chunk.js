"use strict";(self.webpackChunkvoxl_app=self.webpackChunkvoxl_app||[]).push([[553],{1096:function(e,t,n){n.d(t,{Z:function(){return a}});n(2791);var r=n(890),o=n(533),i=n(184);function a(){return(0,i.jsxs)(r.Z,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:5},children:["Copyright \xa9 ",(0,i.jsx)(o.Z,{color:"inherit",href:"https://voxlanalytics.com/",children:"Voxl Analytics"})," ",(new Date).getFullYear(),"."]})}},6553:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(1413),o=n(5861),i=n(9439),a=n(7757),s=n.n(a),l=n(2791),c=(n(1096),n(890)),d=n(4663),p=n(48),u=n(3767),x=n(9321),h=n(5022),m=n(9067),g=n(4721),v=n(7047),f=n(2225),b=n(6871),y=n(5046),Z=n(184);function j(e){var t=e.children;return(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 65px)",width:"100%"},children:t})}var k=n(6265),w=(0,n(6934).ZP)(k.Z)((function(e){var t=e.theme;return{"& .Resizer":{background:t.palette.text.secondary,opacity:.2,zIndex:1,MozBoxSizing:"border-box",WebkitBoxSizing:"border-box",boxSizing:"border-box",MozBackgroundClip:"padding",WebkitBackgroundClip:"padding",backgroundClip:"padding-box"},"& .Resizer:hover":{WebkitTransition:"all 1s ease",transition:"all 1s ease"},"& .Resizer.horizontal":{height:"11px",margin:"-5px 0",borderTop:"5px solid",borderTopColor:(0,p.Fq)(t.palette.text.secondary,.1),borderBottom:"5px solid",borderBottomColor:(0,p.Fq)(t.palette.text.secondary,.1),cursor:"row-resize",width:"100%"},"& .Resizer.horizontal:hover":{borderTop:"5px solid",borderTopColor:(0,p.Fq)(t.palette.text.secondary,.3),borderBottom:"5px solid",borderBottomColor:(0,p.Fq)(t.palette.text.secondary,.3)},"& .Resizer.vertical":{width:"11px",margin:"0 -5px",borderLeft:"5px solid rgba(255, 255, 255, 0)",borderRight:"5px solid rgba(255, 255, 255, 0)",cursor:"col-resize"},"& .Resizer.vertical:hover":{borderLeft:"5px solid rgba(0, 0, 0, 0.5)",borderRight:"5px solid rgba(0, 0, 0, 0.5)"},"& .Resizer.disabled":{cursor:"not-allowed"},"& .Resizer.disabled:hover":{borderColor:"transparent"}}}));function C(e){return(0,Z.jsx)(w,(0,r.Z)({},e))}n(1607);var z=n(3967),S=n(469),T=n(7315);function F(){var e=(0,f.aC)(),t=(e.logout,e.user,(0,b.UO)().id),n=(0,l.useState)(null),a=(0,i.Z)(n,2),w=a[0],F=a[1],R=(0,l.useState)(""),B=(0,i.Z)(R,2),_=B[0],E=B[1],I=(0,l.useState)(null),M=(0,i.Z)(I,2),O=M[0],P=M[1],U=(0,l.useState)(!1),q=(0,i.Z)(U,2),H=q[0],L=q[1],N=(0,l.useState)(null),W=(0,i.Z)(N,2),D=W[0],J=W[1],X=(0,l.useState)(null),Y=(0,i.Z)(X,2),A=Y[0],K=Y[1],V=(0,l.useState)(0),G=(0,i.Z)(V,2),Q=G[0],$=G[1],ee=(0,l.useState)(0),te=(0,i.Z)(ee,2),ne=te[0],re=te[1],oe=(0,z.Z)(),ie=(0,b.s0)();function ae(){return(ae=(0,o.Z)(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=ce())||null==n.name||""==n.name){e.next=16;break}return K(n.completion),E(n.payload),P(n.settings),$(n.promptUsage),re(n.completionUsage),F(n.name),n.id=t,y.Z.dispatch("promptOpened",n),e.next=12,(0,f.HT)("/api/prompt/"+t);case 12:0==e.sent.success&&ie("/"),e.next=30;break;case 16:return K(null),E(""),P(null),F(null),$(0),re(0),e.next=24,(0,f.HT)("/api/prompt/"+t);case 24:0==(r=e.sent).success&&ie("/"),E(r.response.prompt.payload),P(r.response.prompt.settings),F(r.response.prompt.name),y.Z.dispatch("promptOpened",r.response.prompt);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return le.apply(this,arguments)}function le(){return(le=(0,o.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H){e.next=2;break}return e.abrupt("return");case 2:return L(!0),e.next=5,(0,f.uO)("/api/prompt/"+t+"/run",{payload:_,settings:O});case 5:n=e.sent,J(n),L(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){var e=localStorage.getItem("prompt-cache-"+t);return null===e?null:JSON.parse(e)}(0,l.useEffect)((function(){if(null!=D){var e=D;if(e.response.prompt.id!=t)return;e.success?(K(e.response.completion.choices[0].text),$(e.response.completion.usage.prompt_tokens),re(e.response.completion.usage.completion_tokens)):(K(e.response.message),$(0),re(0)),J(null)}}),[D]),(0,l.useEffect)((function(){L(!1),function(){ae.apply(this,arguments)}()}),[t]),(0,l.useEffect)((function(){localStorage.setItem("prompt-cache-"+t,JSON.stringify({payload:_,settings:O,completion:A,name:w,promptUsage:Q,completionUsage:ne}))}),[_,O,A,w,Q,ne]);var de=(0,l.useCallback)((function(e){13===e.keyCode&&e.metaKey&&se()}),[_,O]);(0,l.useEffect)((function(){return document.addEventListener("keydown",de),function(){document.removeEventListener("keydown",de)}}),[de]);var pe=null!=_&&_.length>0?Math.round(1.36*_.split(" ").length):0;return(0,Z.jsx)(j,{children:(0,Z.jsx)("div",{style:{height:"100%",width:"100%",position:"relative",backgroundColor:oe.palette.background.default},children:(0,Z.jsxs)(C,{split:"horizontal",minSize:200,defaultSize:300,style:{height:"100%"},primary:"second",children:[(0,Z.jsx)(k.X,{style:{height:"100%",width:"100%"},className:"",children:(0,Z.jsxs)("div",{style:{height:"100%",width:"100%",position:"relative",padding:25},children:[(0,Z.jsx)("textarea",{value:_,onChange:function(e){return E(e.target.value)},placeholder:"Prompt away...",style:{height:"100%",width:"100%",border:"none",outline:"none",backgroundColor:oe.palette.background.default,color:oe.palette.text.primary,fontSize:"0.9rem",fontFamily:"Fira Code",lineHeight:"1.5rem"}}),(0,Z.jsxs)(c.Z,{variant:"caption",color:"text.secondary",sx:{fontFamily:"Fira Code",position:"absolute",bottom:25,left:25},children:["Est Tokens: ",(0,Z.jsx)("span",{style:{color:oe.palette.primary.main},children:pe})]})]})}),(0,Z.jsx)(k.X,{className:"",style:{height:"100%",width:"100%"},children:(0,Z.jsxs)("div",{style:{height:"100%",width:"100%",position:"relative"},children:[O&&(0,Z.jsx)(d.Z,{sx:{pt:2,pb:2},style:{backgroundColor:(0,p._j)(oe.palette.background.default,.1)},children:(0,Z.jsxs)(u.Z,{sx:{width:"100%"},direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsxs)(u.Z,{direction:"row",alignItems:"center",justifyContent:"flex-start",spacing:2,children:[(0,Z.jsx)(c.Z,{variant:"caption",children:"Model"}),(0,Z.jsxs)(x.Z,{value:null===O||void 0===O?void 0:O.model,onChange:function(e){return t=e.target.value,void P((0,r.Z)((0,r.Z)({},O),{},{model:t}));var t},size:"small",children:[(0,Z.jsx)(h.Z,{value:"text-davinci-003",children:"text-davinci-003"}),(0,Z.jsx)(h.Z,{value:"text-curie-001",children:"text-curie-001"}),(0,Z.jsx)(h.Z,{value:"text-babbage-001",children:"text-babbage-001"}),(0,Z.jsx)(h.Z,{value:"text-ada-001",children:"text-ada-001"})]}),(0,Z.jsx)(c.Z,{variant:"caption",children:"Tempurature"}),(0,Z.jsx)(m.ZP,{"aria-label":"Temp",value:100*(null===O||void 0===O?void 0:O.tempurature),sx:{width:100},size:"small",onChange:function(e,t){return n=t/100,void P((0,r.Z)((0,r.Z)({},O),{},{tempurature:n}));var n}}),(0,Z.jsx)(c.Z,{variant:"caption",children:"Max Tokens"}),(0,Z.jsx)(m.ZP,{"aria-label":"Token",vvalue:(null===O||void 0===O?void 0:O.max_tokens)/2048*100,sx:{width:100},size:"small",onChange:function(e,t){return n=Math.max(150,t/100*2048),void P((0,r.Z)((0,r.Z)({},O),{},{max_tokens:Math.round(n)}));var n}})]}),(0,Z.jsx)(u.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",children:(0,Z.jsx)(T.Z,{variant:"contained",color:"success",onClick:se,loading:H,endIcon:(0,Z.jsxs)(u.Z,{direction:"row",children:[(0,Z.jsx)(S.Z,{sx:{width:15},icon:"material-symbols:keyboard-command-key"}),(0,Z.jsx)(S.Z,{sx:{width:15},icon:"material-symbols:keyboard-return"})]}),children:"Run"})})]})}),(0,Z.jsx)(g.Z,{}),(0,Z.jsxs)("div",{style:{height:"calc(100% - 80px)",minHeight:"calc(100% - 80px)",overflowY:"scroll",width:"100%",position:"relative",padding:"25px",backgroundColor:(0,p._j)(oe.palette.background.default,.1)},children:[!H&&(0,Z.jsx)(c.Z,{variant:"code",style:{whiteSpace:"pre-line"},children:A}),H&&(0,Z.jsx)(c.Z,{variant:"code",children:(0,Z.jsx)(v.Z,{style:{width:"60%"}})}),H&&(0,Z.jsx)(c.Z,{variant:"code",children:(0,Z.jsx)(v.Z,{style:{width:"50%"}})}),H&&(0,Z.jsx)(c.Z,{variant:"code",children:(0,Z.jsx)(v.Z,{style:{width:"20%"}})})]}),(0,Z.jsxs)(c.Z,{variant:"caption",color:"text.secondary",sx:{fontFamily:"Fira Code",position:"absolute",bottom:25,left:25},children:["Prompt Tokens: ",(0,Z.jsx)("span",{style:{color:oe.palette.primary.main},children:Q})," \xa0 \xa0 Completion Tokens: ",(0,Z.jsx)("span",{style:{color:oe.palette.primary.main},children:ne})]})]})})]})})})}}}]);
//# sourceMappingURL=553.e19978d8.chunk.js.map